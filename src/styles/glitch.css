/* ベースのグリッチアニメーション */
@keyframes glitch {
	0% {
		clip-path: polygon(0 2%, 100% 2%, 100% 5%, 0 5%);
		transform: translate(20px);
	}
	20% {
		clip-path: polygon(0 15%, 100% 15%, 100% 15%, 0 15%);
		transform: translate(-20px);
	}
	40% {
		clip-path: polygon(0 10%, 100% 10%, 100% 20%, 0 20%);
		transform: translate(15px);
	}
	60% {
		clip-path: polygon(0 1%, 100% 1%, 100% 2%, 0 2%);
		transform: translate(-15px);
	}
	80% {
		clip-path: polygon(0 33%, 100% 33%, 100% 33%, 0 33%);
		transform: translate(0);
	}
	100% {
		clip-path: polygon(0 44%, 100% 44%, 100% 44%, 0 44%);
		transform: translate(0);
	}
}

/* デジタルノイズ効果 */
.noise-bg {
	background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.95' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%' height='100%' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
	animation: noise 0.2s infinite;
}

/* ホログラム効果 */
.hologram-effect {
	position: relative;
	&::before,
	&::after {
		content: '';
		position: absolute;
		inset: 0;
		background: linear-gradient(45deg, transparent 0%, rgba(0, 255, 255, 0.2) 50%, transparent 100%);
		animation: hologram 2s linear infinite;
	}
}

/* データ破損エフェクト */
.data-corruption-box {
	position: relative;
	overflow: hidden;
	&::before {
		content: '';
		position: absolute;
		inset: 0;
		background: linear-gradient(
			90deg,
			transparent 0%,
			rgba(255, 0, 255, 0.2) 25%,
			rgba(0, 255, 255, 0.2) 50%,
			rgba(255, 255, 0, 0.2) 75%,
			transparent 100%
		);
		animation: dataCorruption 4s linear infinite;
	}
}

/* サイバーパンクスタイル */
.cyber-box {
	border: 2px solid rgba(0, 255, 255, 0.5);
	box-shadow: 0 0 15px rgba(0, 255, 255, 0.3);
	background: rgba(0, 0, 0, 0.8);
	position: relative;
	&::before {
		content: '';
		position: absolute;
		inset: 0;
		background: linear-gradient(45deg, transparent 0%, rgba(0, 255, 255, 0.1) 100%);
		animation: cyberPulse 2s ease-in-out infinite;
	}
}

/* マトリックス風の文字雨 */
.matrix-rain {
	position: relative;
	overflow: hidden;
	&::before {
		content: '';
		position: absolute;
		top: -100%;
		left: 0;
		width: 100%;
		height: 300%;
		background: linear-gradient(
			0deg,
			rgba(0, 255, 0, 0) 0%,
			rgba(0, 255, 0, 0.2) 15%,
			rgba(0, 255, 0, 0.8) 50%,
			rgba(0, 255, 0, 0.2) 85%,
			rgba(0, 255, 0, 0) 100%
		);
		animation: matrixRain 2s linear infinite;
	}
}

/* グリッチテキストスタック */
.glitch-stack {
	position: relative;
	display: inline-block;

	.glitch-layer {
		position: absolute;
		top: 0;
		left: 0;

		&:nth-child(2) {
			color: #ff00ff;
			animation: glitchLayer1 4s infinite;
		}

		&:nth-child(3) {
			color: #00ffff;
			animation: glitchLayer2 4s infinite;
		}
	}
}

/* デジタル崩壊アニメーション */
@keyframes digitalDecay {
	0%,
	100% {
		opacity: 1;
		transform: none;
	}
	50% {
		opacity: 0.7;
		transform: translate(calc(var(--glitch-translate) * 1px), calc(var(--glitch-translate) * -1px));
	}
}

.digital-decay-text {
	--glitch-translate: 8;
	animation: digitalDecay 0.1s infinite;
	text-shadow:
		2px 2px #ff00ff,
		-2px -2px #00ffff;
}

/* ホバー時のグリッチ変形 */
.glitch-hover {
	transition: transform 0.3s;
	&:hover {
		animation: glitchHover 0.2s infinite;
	}
}

@keyframes glitchHover {
	0%,
	100% {
		transform: none;
	}
	20% {
		transform: skewX(20deg) translateX(10px);
	}
	40% {
		transform: skewX(-15deg) translateX(-15px);
	}
	60% {
		transform: skewX(25deg) translateX(5px);
	}
	80% {
		transform: skewX(-10deg) translateX(-5px);
	}
}
